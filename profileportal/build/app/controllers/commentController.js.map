{"version":3,"file":"commentController.js","names":["_CommentsService","require","getComments","exports","_ref","_asyncToGenerator2","_regenerator","mark","_callee","req","res","result","wrap","_callee$","_context","prev","next","getCommentsService","params","appointmentId","sent","status","send","t0","console","error","name","message","stop","_x","_x2","apply","arguments","addComment","_ref2","_callee2","_callee2$","_context2","body","create_by","decoded","username","comment_name","update_by","addCommentService","_x3","_x4","updateComment","_ref3","_callee3","response","_callee3$","_context3","updateCommentService","commentId","abrupt","_x5","_x6","deleteComment","_ref4","_callee4","_callee4$","_context4","deleteCommentService","_x7","_x8"],"sources":["../../../src/app/controllers/commentController.js"],"sourcesContent":["import { getCommentsService, addCommentService, updateCommentService, deleteCommentService } from \"../service/CommentsService\";\n\nexport const getComments = async (req, res) => {\n    try {\n        const result = await getCommentsService(req.params.appointmentId);\n        res.status(200).send(result);\n    } catch (err) {\n        console.error(err);\n        res.status(400).send({ name: err.name, message: err.message });\n    }\n};\n\nexport const addComment = async (req, res) => {\n    try {\n        req.body.create_by = req.decoded.username;\n        req.body.comment_name = req.decoded.username;\n        req.body.update_by = req.decoded.username;\n        const result = await addCommentService(req.params.appointmentId, req.body);\n        res.status(201).send(result);\n    } catch (err) {\n        console.error(err);\n        res.status(400).send({ name: err.name, message: err.message });\n    }\n};\n\nexport const updateComment = async (req, res) => {\n    try {\n        req.body.update_by = req.decoded.username;\n        req.body.comment_name = req.decoded.username;\n        const response = await updateCommentService(req.params.commentId, req.body);\n        if (response == 0) {\n            return res.status(404).send({ message: \"Comment not found\" });\n        }\n        res.status(204).send();\n    } catch (err) {\n        console.error(err);\n        res.status(400).send({ message: err });\n    }\n};\n\nexport const deleteComment = async (req, res) => {\n    try {\n        const response = await deleteCommentService(req.params.commentId);\n        if (response == 0) {\n            return res.status(404).send({ message: \"Comment not found\" });\n        }\n        res.status(204).send();\n    } catch (err) {\n        console.error(err);\n        res.status(400).send({ message: err });\n    }\n};\n"],"mappings":"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"}